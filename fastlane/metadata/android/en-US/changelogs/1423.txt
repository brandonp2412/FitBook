• Add compactDiary setting and migration
• Change diary display based on compact setting
